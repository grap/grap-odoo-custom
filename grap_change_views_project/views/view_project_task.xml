<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (C) 2022-Today GRAP (http://www.grap.coop)
@author: Mouna SEBTI (https://github.com/mounasb)
License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
-->

<odoo>

    <record id="view_project_task_form2" model="ir.ui.view">
        <field name="name">view_task_form2</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">

          <field name="description" position="after">
            <group>
              <field name="github_link_1" widget="url" placeholder="e.g. https://www.github.com"/>
              <field name="github_link_2" widget="url" placeholder="e.g. https://www.github.com" attrs="{'invisible':[('github_link_1', '=', False)]}"/>
              <field name="github_link_3" widget="url" placeholder="e.g. https://www.github.com" attrs="{'invisible':[('github_link_2', '=', False)]}"/>
              <field name="is_odoo_development" widget="boolean_toggle" invisible="1"/>
              <field name="to_install_modules" attrs="{'invisible':[('is_odoo_development', '=', False)]}"/>
              <field name="to_uninstall_modules" attrs="{'invisible':[('is_odoo_development', '=', False)]}"/>
              <field name="sql_requests" widget="ace" attrs="{'invisible':[('is_odoo_development', '=', False)]}"/>
            </group>
          </field>
        </field>
    </record>

    <record model="ir.ui.view" id="project_task_code_tree_view">
        <field name="name">project.task.code.tree</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_tree2"/>
        <field name="arch" type="xml">
            <field name="stage_id" position="after">
                <field name="priority" widget="priority"/>
                <field name="kanban_state" widget="state_selection"/>
            </field>
        </field>
    </record>

    <record id="project_task_search" model="ir.ui.view">
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_search_form"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="description" string="Description"/>
            </field>
        </field>
    </record>

    <record id="project.action_view_task" model="ir.actions.act_window">
      <field name="domain">[('project_id','not ilike','template')]</field>
    </record>

</odoo>
